<script>
  (function () {
    const path = decodeURIComponent(location.pathname).replace(/^\/+/, "");
    const parts = path.split("-");
    if (parts.length < 2) return;

    const state = parts.pop();
    const citySlug = parts.join("-");

    function fromSlug(slug) {
      return slug
        .replace(/--/g, "\u0000")
        .replace(/-/g, " ")
        .replace(/\u0000/g, "-")
        .replace(/([a-z])([A-Z])/g, "$1 $2")
        .trim();
    }

    const city = fromSlug(citySlug);
    location.replace(
      `/city.html?name=${encodeURIComponent(`${city}, ${state}`)}`
    );
  })();
</script>
